var AppControllers=angular.module("AppControllers",[]);AppControllers.controller("DefaultController",["$scope","$http","$location","$routeParams",function(a,b,c,d){a.search=function(a){""!=a&&c.path(a+"&0")};var e=c.path().split("&"),f={method:"GET",url:"https://api.imgur.com/3/gallery/t/"+e[0]+"/"+e[1],headers:{Authorization:"Client-ID c2d46d060a1041c"}};a.next=function(){var a=c.path().split("&");c.path(a[0]+"&"+(parseInt(a[1],10)+1))},a.prev=function(){var a=c.path().split("&"),b=parseInt(a[1],10),d=0;b>0&&(d=b-1),c.path(a[0]+"&"+d)},b(f).success(function(b){a.data=b;for(var c,d=[],b=a.data,e=0;e<b.data.items.length&&(c=b.data.items[e],(void 0!==c.mp4||c.nsfw)&&d.push(c),!(d.length>4));e++);a.response=d})}]);var ImgurApp=angular.module("ImgurApp",["ngRoute","AppControllers"]);ImgurApp.config(["$routeProvider",function(a){a.when("/!upload",{templateUrl:"partial3.html",controller:"UploadController"}).when("/!Stored Links",{templateUrl:"partial2.html",controller:"UploadController"}).otherwise({templateUrl:"partial1.html",controller:"DefaultController"})}]),ImgurApp.filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]),ImgurApp.filter("pathSplit",[function(){return function(a){return[a.split("&")[0],a.split("&")[1]]}}]),AppControllers.controller("UploadController",["$scope","$http","$location","$routeParams",function(a,b,c,d){var e=[];null!==localStorage.getItem("links")&&e.push(localStorage.getItem("links")),a.currentLinks=e,a.upload=function(){var c=document.getElementById("file").files[0],d=new FileReader;d.onload=function(c){var d=c.target.result,f=document.createElement("img");f.src=d;var g={method:"POST",url:"https://api.imgur.com/3/image",headers:{Authorization:"Client-ID c2d46d060a1041c"},data:{image:f.src.split(",")[1]}};b(g).success(function(b){var c=document.createElement("a");console.log(b.data),c.href=b.data.link,c.innerHTML="Here is a link to your Image";var d=document.createElement("h3"),f=document.createElement("img");f.src=b.data.link,d.innerHTML="This is what your Image looks like. "+c.outerHTML,div=document.getElementById("dummy"),document.getElementById("dummy").appendChild(d),div.appendChild(f),e=localStorage.getItem("links"),null===e?localStorage.setItem("links",b.data.link):(e=e.push(b.data.link),localStorage.setItem("links",e),a.currentLinks=e)})},d.readAsDataURL(c)}}]);